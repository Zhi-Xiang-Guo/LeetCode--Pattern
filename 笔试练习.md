# 刷题

## LC - [670. 最大交换](https://leetcode.cn/problems/maximum-swap/) - 模拟

```java
class Solution {
    // 找到降序(非升序)结束后的最大值及其最大索引，并将其和降序(非升序)中小于该值的最小索引交换
    // 从 9 递减到 digits[i]+1看有没有某个数字 d > digits[i]，并且它的 last[d] 在 i 后面
    // 说明我们可以交换，让当前位变得更大 一旦找到，交换并立即返回结果（因为只允许交换一次）
    public int maximumSwap(int num) {
        char[] digits = Integer.toString(num).toCharArray();「转char」
        int n = digits.length;
        int[] last = new int[10]; // 记录每个数字最后出现的位置

        // 保证多次出现 是最后那个
        for (int i = 0; i < n; i++) {
            last[digits[i] - '0'] = i;
        }

        // 从左往右扫描每一位
        for (int i = 0; i < n; i++) {
            // 尝试从9到当前位+1寻找更大的数，交换
            for (int d = 9; d > digits[i] - '0'; d--) {
                if (last[d] > i) {
                    // 交换
                    char temp = digits[i];
                    digits[i] = digits[last[d]];
                    digits[last[d]] = temp;
                    return Integer.parseInt(new String(digits));「转Int」
                }
            }
        }

        return num;
    }
}
```

## [788. 旋转数字](https://leetcode.cn/problems/rotated-digits/) - 模拟

```java
class Solution {
    public int rotatedDigits(int n) {
        int ans = 0;
        out:for (int i = 1; i <= n; i++) {
            boolean ok = false;
            int x = i;
            while (x != 0) {
                int t = x % 10;
                x /= 10;
                // 每位数字逐个
                if (t == 2 || t == 5 || t == 6 || t == 9) ok = true;//会变（2569）- 好数
                else if (t == 3 && t == 4 && t == 7) continue out;//非有效翻转数（347）-则必然不是好数
            }
            if (ok) ans++;
        }
        return ans;
    }
}
```

## [319. 灯泡开关](https://leetcode.cn/problems/bulb-switcher/) - 数学 [672. 灯泡开关 Ⅱ](https://leetcode.cn/problems/bulb-switcher-ii/)